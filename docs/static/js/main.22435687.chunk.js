(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){e.exports=a(261)},122:function(e,t,a){},125:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),s=a.n(l),o=(a(122),a(262)),c=a(263),i=a(2),h=a(3),u=a(5),p=a(4),d=a(7),m=a(6),f=a(264),b=a(19),v=(a(125),a(113)),g=(a(126),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handlePersonChange=function(e){a.setState({selectedOption:e}),a.props.onPersonChange(e)},a.handleOnlineStatusChange=function(e){a.props.onOnlineStatusChange(e)},a.state={selectedOption:"",people:{},placeholder:"Loading persons..."},a.handlePersonChange=a.handlePersonChange.bind(Object(d.a)(a)),a.handleOnlineStatusChange=a.handleOnlineStatusChange.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://andersen.sdu.dk/service/people").then(function(t){if(200===t.status)return t.json().then(function(t){e.setState({people:t,placeholder:"Please select a person..."})}).catch(function(e){console.error("An error occurred",e)});throw new Error("Something went wrong on the API server")}).catch(function(t){console.error(t),e.handleOnlineStatusChange("offline")})}},{key:"render",value:function(){for(var e=[],t=this.state.selectedOption,a=t&&t.value,n=this.state.people,l=Object.entries(n).sort(function(e,t){var a=e[1].Name.toLowerCase(),n=t[1].Name.toLowerCase();return a<n?-1:a>n?1:0}),s=0;s<l.length;s++){var o=l[s][0],c=l[s][1].Name.replace(/,/,"");e.push({value:o,label:c})}return r.a.createElement("div",{className:"person-selection label-input"},r.a.createElement("label",{htmlFor:"select-person"},"Sender / receiver"),r.a.createElement(v.a,{name:"select-person",id:"select-person",placeholder:this.state.placeholder,value:a,onChange:this.handlePersonChange,options:e}))}}]),t}(r.a.Component)),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={isActive:!1},a.handleLetterIDChange=a.handleLetterIDChange.bind(Object(d.a)(a)),a.handleKeyboardEvent=a.handleKeyboardEvent.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"handleLetterIDChange",value:function(e){this.props.onLetterIDChange(e.target.value,!1)}},{key:"handleKeyboardEvent",value:function(e){this.props.onKeyboardEvent(e.key)}},{key:"render",value:function(){return r.a.createElement("div",{className:"id-input label-input"},r.a.createElement("label",{htmlFor:"id-input"},"Letter ID")," ",r.a.createElement("input",{type:"number",id:"id-input",placeholder:this.props.letterID,min:"1",max:"99999",maxLength:"5",onChange:this.handleLetterIDChange,onKeyDown:this.handleKeyboardEvent}))}}]),t}(r.a.Component),E=a(36),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.date,t=this.props.format,a="Invalid date",n=e.split("-"),l=[!0,!0,!0],s={},o="compact"===t?{year:"numeric",month:"numeric",day:"numeric"}:{weekday:"long",year:"numeric",month:"long",day:"numeric"},c="",i=!1;switch(n.forEach(function(e,t){/^0+$/.test(e)&&((n=n.slice(0))[t]=e.replace(/0/,"1"),l[t]=!1)}),l=l.toString()){case"true,true,true":s=o;break;case"true,true,false":s={year:"numeric",month:"long"},c="unknown day";break;case"true,false,true":s={year:"numeric",day:"numeric"},c="unknown month";break;case"true,false,false":s={year:"numeric"},c="month and day are unknown";break;case"false,true,true":s={month:"long",day:"numeric"},c="unknown year";break;case"false,false,true":s={day:"numeric"},c="year and month are unknown";break;case"false,true,false":s={month:"long"},c="year and day are unknown";break;case"false,false,false":i=!0;break;default:s={weekday:"long",year:"numeric",month:"long",day:"numeric"}}var h=new Intl.DateTimeFormat("en-EN",s);return i?a="(unknown date)":(Date.parse(n.join("-"))?a=h.format(new Date(n.join("-"))):(a=e,c="Invalid date in the data source"),"compact"!==t&&(a+=c?" ("+c+")":"")),r.a.createElement("time",{dateTime:e},a)}}]),t}(r.a.Component),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleLetterIDChange=a.handleLetterIDChange.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"handleLetterIDChange",value:function(e){this.props.onLetterIDChange(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.letterRow,n=t.selected;return r.a.createElement("tr",{className:n?"letterlist-row selected":"letterlist-row",onClick:function(){e.handleLetterIDChange(a.ID)}},r.a.createElement("td",{className:"sender"},a["Sender name"]),r.a.createElement("td",{className:"receiver"},a["Receiver name"]),r.a.createElement("td",{className:"date"},r.a.createElement(I,{date:a.Date})))}}]),t}(r.a.Component),j=a(22),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={letterID:""},a.handleLetterIDChange=a.handleLetterIDChange.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"handleLetterIDChange",value:function(e){this.setState({letterID:e}),this.props.onLetterIDChange(e),/\/letter\/([0-9]+)/.test(this.props.history.location.pathname)?this.props.history.push(this.props.history.location.pathname.replace(/\/letter\/[0-9]+.*/,"/letter/".concat(e))):this.props.history.push("".concat(this.props.history.location.pathname,"/letter/").concat(e))}},{key:"render",value:function(){for(var e=[],t=0,a=Object.entries(this.props.list);t<a.length;t++){var n=a[t],l=Object(E.a)(n,2),s=l[0],o=l[1];Number.isInteger(parseInt(s,10))&&e.push(r.a.createElement(O,{key:o.ID,letterRow:o,onLetterIDChange:this.handleLetterIDChange,selected:o.ID===this.state.letterID}))}var c=e.length;return r.a.createElement("table",{className:["letterlist"].join(" ")},r.a.createElement("caption",{id:"letterlist"},c," ",c>1?"letters":"letter"," found:"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"From"),r.a.createElement("th",null,"To"),r.a.createElement("th",null,"On"))),r.a.createElement("tbody",{tabIndex:"0",role:"list","aria-labelledby":"letterlist"},e))}}]),t}(r.a.Component),D=Object(j.connect)(function(e){return{onLetterIDChange:e.onLetterIDChange,letterListFetch:{url:"".concat(e.url),headers:{"Content-Type":""}}}})(function(e){var t=e.letterListFetch;return t.pending?r.a.createElement("p",{className:"fetch-message"},"Fetching a list of letters. Please wait..."):t.rejected||t.fulfilled&&null===t.value?r.a.createElement("p",{className:"fetch-message"},"No letters found with the given parameters."):t.fulfilled&&null!==t.value?r.a.createElement(C,{list:t.value,history:e.history,letterID:e.letterID,onLetterIDChange:e.onLetterIDChange}):void 0}),k=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).handleLetterIDChange=e.handleLetterIDChange.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(h.a)(t,[{key:"handleLetterIDChange",value:function(e){this.props.onLetterIDChange(e)}},{key:"render",value:function(){var e=this.props,t=e.history,a=e.match.params,n=a.person,l=a.year,s=a.month,o=a.day,c="https://andersen.sdu.dk/service/letters/",i="Not enough parameters. Please select at least a year and a month.";return n?"1"!==n?c+="person/".concat(n):(c=null,i="Loading all letters to and from Hans Christian Andersen would mean loading almost all letters in the database. It does not make sense, and it puts a large load on your device. So the app does not do that. Please select someone else."):l&&s?(c+="date/".concat(("0000"+l).slice(-4),"-").concat(("00"+s).slice(-2)),o&&(c+="-".concat(("00"+o).slice(-2)))):c=null,null!==c?r.a.createElement(D,{url:c,history:t,onLetterIDChange:this.handleLetterIDChange}):r.a.createElement("p",{className:"fetch-message"},i)}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handlePersonChange=function(e){a.props.history.push("/person/".concat(e,"/show"))},a.handlePersonChange=a.handlePersonChange.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.firstName,n=t.lastName,l=t.personID,s=[a,n].join(" ");return r.a.createElement("span",{className:"person",dangerouslySetInnerHTML:{__html:s},onClick:function(){e.handlePersonChange(l)}})}}]),t}(r.a.Component),L=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.people,a=e.correspondent,n=[],l="sender"===a?"from":"to",s="";if(t){var o=0,i=!0,h=!1,u=void 0;try{for(var p,d=function(){var e=p.value;o++;var t=e.Webpage.match(/[0-9]+$/)[0];"receiver"===a?n.push(r.a.createElement(c.a,{key:o,path:"/",render:function(a){return r.a.createElement(w,Object.assign({},a,{personID:t,firstName:e["First Name"],lastName:e["Last Name"]}))}}),", "):"sender"===a&&n.push(r.a.createElement(c.a,{key:o,path:"/",render:function(a){return r.a.createElement(w,Object.assign({},a,{personID:t,firstName:e["First name"],lastName:e["Last name"]}))}}),", ")},m=t[Symbol.iterator]();!(i=(p=m.next()).done);i=!0)d()}catch(b){h=!0,u=b}finally{try{i||null==m.return||m.return()}finally{if(h)throw u}}}n.pop();var f=n.length>1?"multiple":"single";return n.length>0&&(s=r.a.createElement("span",{className:f},l," ",n)),r.a.createElement("span",{className:a},s," ")}}]),t}(r.a.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.type,t=this.props.version,a=this.props.version["Version last updated"],n=this.props.numberofversions,l=this.props.number;var s="There is registered a version of the letter of the type <em>".concat(this.props.type,"</em>. Unfortunately, it may not be published here due to copyright issues. You may try to contact the owner.");"true"===t.Public&&(s="undefined"!==typeof t.Text&&""!==t.Text?t.Text.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1'>$1</a>").replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'$1<a href="http://$2">$2</a>'):"There is no text or description of this version of the letter. However, the information about the source may be useful:");var o=[e];n>1&&"text"===e&&o.push(r.a.createElement("span",{className:"metasuffix",key:l}," (version ",l,")"));var c=[];t["Source name"]&&(c.push(r.a.createElement("p",{key:"1"},"Source/owner: ",t["Source name"])),t["Item number in source"]&&c.push(r.a.createElement("p",{key:"2"},"Item number in source: ",t["Item number in source"]))),c.push(r.a.createElement("p",{key:"3"},"Last updated on ",r.a.createElement(I,{date:a,format:"compact"})));var i=this.props.version.Languages[0],h={eng:"en",dut:"nl",fre:"fr",spa:"es",ger:"de",ita:"it",swe:"sv",dan:"da",hca:"da"},u=new RegExp(Object.keys(h).join("|"),"gi"),p=i.replace(u,function(e){return h[e]}),d="letter-version ".concat(this.props.type);return r.a.createElement("div",{className:d},r.a.createElement("h3",{className:"version-header"},o),r.a.createElement("div",{className:"letter-text",lang:p,dangerouslySetInnerHTML:{__html:s}}),r.a.createElement("div",{className:"letter-meta"},c))}}]),t}(r.a.Component),S=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=[],t=0,a=!0,n=!1,l=void 0;try{for(var s,o=this.props.references[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var c=s.value,i=c["Item title"],h=c.Webpage,u="";c["Comment on reference"]&&(u=r.a.createElement("span",{className:"reference-comment"},c["Comment on reference"])),t++,e.push(r.a.createElement("li",{className:"literature",key:t},r.a.createElement("a",{className:"literature-title",href:h},i),u))}}catch(p){n=!0,l=p}finally{try{a||null==o.return||o.return()}finally{if(n)throw l}}return r.a.createElement("ul",null,e)}}]),t}(r.a.Component),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleLetterIDChange=a.handleLetterIDChange.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"handleLetterIDChange",value:function(e,t){this.props.onLetterIDChange(e,t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.letter,n=t.open,l=a["Letter ID"],s=a.Senders,o=a.Receivers,c=a["Letter date"],i=a.Versions,h=i.length,u=a["Bibliography references"],p=[],d=[],m={text:[],original:[],image:[],other:[]};s.length>0&&p.push(r.a.createElement(L,{key:"group1",correspondent:"sender",people:s})),o.length>0&&p.push(r.a.createElement(L,{key:"group2",correspondent:"receiver",people:o})),c&&p.push(r.a.createElement(I,{key:"3",date:c}));var f=!0,b=!1,v=void 0;try{for(var g,y=i[Symbol.iterator]();!(f=(g=y.next()).done);f=!0){var O=g.value;switch(O.Type){case"tekst":m.text.push(O);break;case"original":m.original.push(O);break;case"grafisk":m.image.push(O);break;default:m.other.push(O)}}}catch(w){b=!0,v=w}finally{try{f||null==y.return||y.return()}finally{if(b)throw v}}for(var j=function(){var e=D[C],t=(k=Object(E.a)(e,2))[0],a=k[1];if(a.length>0){var n=1;a.forEach(function(e){d.push(r.a.createElement(N,{type:t,version:e,numberofversions:h,number:n,key:t+n})),n++})}},C=0,D=Object.entries(m);C<D.length;C++){var k;j()}return r.a.createElement("section",{className:"letter drawer ".concat(n)},r.a.createElement("div",{className:"drawer-inner"},r.a.createElement("h2",{className:"letter-header"},r.a.createElement("i",{className:"icon close-left",onClickCapture:function(){e.handleLetterIDChange(l,!1)}}),r.a.createElement("span",null,"Letter")," ",p),d,r.a.createElement("div",{className:"letter-references"},r.a.createElement("h3",null,"Letter ID for reference: ",l),u.length>0&&r.a.createElement("div",null,r.a.createElement("h3",null,"References to sources and secondary literature for this letter"),r.a.createElement(S,{references:u})))))}}]),t}(n.Component),P=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fetch,a=e.open,n=e.onLetterIDChange;return t.pending?r.a.createElement("p",{className:"fetch-message"},"Fetching a letter with the selected ID. Please wait..."):t.rejected||t.fulfilled&&null===t.value?r.a.createElement("p",{className:"fetch-message"},"An error occurred. Or, more likely, there is no letter with the ID ",this.props.url.match.params.letterID,"."):t.fulfilled&&null!==t.value?r.a.createElement(c.a,{render:function(e){return r.a.createElement(x,{history:e.history,letter:t.value,open:a,onLetterIDChange:n})}}):void 0}}]),t}(n.Component),T=Object(j.connect)(function(e){return{onLetterIDChange:e.onLetterIDChange,open:e.open,fetch:{url:"".concat("https://andersen.sdu.dk/service/letters/").concat(e.url.match.params.letterID,"?htmlencode=false"),headers:{"Content-Type":""}}}})(P),A=(a(260),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleClickSubmit=a.handleClickSubmit.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"handleClickSubmit",value:function(e,t){this.props.history.push("/letter/".concat(e)),this.props.onLetterIDChange(e,t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.isActive,n=t.letter;return r.a.createElement("button",{type:"button",onClick:function(){return e.handleClickSubmit(n,!0)},disabled:a?"":"disabled"},"Show me")}}]),t}(n.Component)),F=function(e){var t=e.info,a=[];null!==t["First name"]&&""!==t["First name"]&&a.push(t["First name"]),null!==t["Last name"]&&""!==t["Last name"]&&a.push(t["Last name"]);for(var n=[],l=0,s=["Title","Biographical description","Family relations"];l<s.length;l++){var o=s[l];null!==t[o]&&""!==t[o]&&n.push(r.a.createElement("span",{key:o,dangerouslySetInnerHTML:{__html:t[o]}}),", ")}n.pop();var c=[];return null!==t.Born&&c.push("* ",r.a.createElement(I,{key:"Born",date:t.Born,format:"compact"})),null!==t.Born&&null!==t.Died&&c.push(", "),null!==t.Died&&c.push("\u2020 ",r.a.createElement(I,{key:"Died",date:t.Died,format:"compact"})),null!==t["Home country"]&&""!==t["Home country"]&&(c.length>0&&c.push(", "),c.push(t["Home country"],".")),r.a.createElement("section",{className:"person-card",lang:"da"},r.a.createElement("h2",{className:"name"},a.join(" ")),r.a.createElement("p",{className:"time-and-nationality"},c.length>0?c:""),r.a.createElement("p",{className:"curriculum"},n),r.a.createElement("span",{className:"note"},"These data are only available in Danish"))},B=Object(j.connect)(function(e){return{fetch:{url:"".concat("https://andersen.sdu.dk/service/people/").concat(e.match.params.personID,"?htmlencode=false"),headers:{"Content-Type":""}}}})(function(e){var t=e.fetch;return t.pending?r.a.createElement("p",{className:"fetch-message"},"Fetching information about the selected person. Please wait..."):t.rejected||t.fulfilled&&null===t.value?r.a.createElement("p",{className:"fetch-message"},"An error occurred. Or, more likely, there is no person in the database with the ID ",e.match.params.personID,"."):t.fulfilled&&null!==t.value?r.a.createElement(F,{info:t.value}):void 0}),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={person:null,year:null,month:null,day:null,letterID:"",letterIDButtonIsActive:!1,letterDrawerIsOpen:!0,onlineStatus:"online"},a.handlePersonChange=a.handlePersonChange.bind(Object(d.a)(a)),a.handleLetterIDChange=a.handleLetterIDChange.bind(Object(d.a)(a)),a.handleKeyboardEvent=a.handleKeyboardEvent.bind(Object(d.a)(a)),a.handleOnlineStatusChange=a.handleOnlineStatusChange.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"handlePersonChange",value:function(e){this.setState({person:e});var t=this.props.history.location.pathname.match(/letter\/[0-9]+/),a=[];e&&""!==e.value?(a.push("person/".concat(e.value)),null!==t&&a.push("".concat(t))):null!==t&&a.push("".concat(t)),this.props.history.push("/".concat(a.join("/")))}},{key:"handleDateChange",value:function(e,t){this.setState({person:null});var a={year:{value:this.state.year,pathPart:"year"},month:{value:this.state.month,pathPart:"month"},day:{value:this.state.day,pathPart:"day"}};a[e].value=t;for(var n=[],r=0,l=Object.values(a);r<l.length;r++){var s=l[r];s.value&&s.value.value&&n.push("/".concat(s.pathPart,"/").concat(s.value.value))}var o=this.props.history.location.pathname.match(/\/letter\/[0-9]+/);n.push(o);var c="/date".concat(n.join(""));this.props.history.push(c)}},{key:"handleLetterIDChange",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState({letterID:e,letterDrawerIsOpen:t}),this.setState({letterIDButtonIsActive:""!==e})}},{key:"handleKeyboardEvent",value:function(e){"Enter"===e&&""!==this.state.letterID&&(this.setState({letterDrawerIsOpen:!0}),this.props.history.push("/letter/".concat(this.state.letterID)))}},{key:"handleOnlineStatusChange",value:function(e){this.setState({onlineStatus:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.person,n=t.year,l=t.month,s=t.day,o=a&&a.value;n&&n.value,l&&l.value,s&&s.value;return r.a.createElement("section",{className:"App"},r.a.createElement("header",{className:"/"===this.props.location.pathname?"front":"not-front"},r.a.createElement("h1",{onClick:function(){return e.props.history.push("/")}},"The Hans Christian Andersen Letters"),"offline"===this.state.onlineStatus?r.a.createElement("p",{className:"error"},"You seem to be offline."):"",r.a.createElement(b.d,{defaultFocus:!1,defaultIndex:0},r.a.createElement(b.b,null,r.a.createElement(b.a,null,r.a.createElement("i",{className:"tab-icon",id:"icon-person"}),r.a.createElement("span",{className:"tab-text"},"Person")),r.a.createElement(b.a,null,r.a.createElement("i",{className:"tab-icon",id:"icon-id"}),r.a.createElement("span",{className:"tab-text"},"ID"))),r.a.createElement(b.c,null,r.a.createElement("div",{className:"selector"},r.a.createElement(g,{person:a,personValue:o,onPersonChange:this.handlePersonChange,onOnlineStatusChange:this.handleOnlineStatusChange})),r.a.createElement(c.a,{exact:!0,path:"/",render:function(){return r.a.createElement("div",{className:"help"},r.a.createElement("div",{className:"error",style:{textAlign:"left"}},r.a.createElement("h2",null,"Bad news:"),r.a.createElement("p",null,"The web service at https://andersen.sdu.dk/service/ fails to deliver data needed by this app."),r.a.createElement("p",null,"It is thus not possible to search/browse/filter letters by date anymore, not here nor on the website ",r.a.createElement("a",{href:"https://andersen.sdu.dk/brevbase/"},"https://andersen.sdu.dk/brevbase/")," itself, among other issues."),r.a.createElement("p",null,"Until these problems get solved, this app is reduced to picking letters by ID and seeing the dropdown with people. The dropdown is filtered by typing in the field, so it is a fine way to at least find people. Unfortunately, selecting a person does not display a list of letters as it used to. Again, the error is to be fixed at https://andersen.sdu.dk.")),r.a.createElement("h2",null,"What This App Lets You Do"),r.a.createElement("p",null,"This app lets you browse more than 10,000 letters to, from, and about ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Hans_Christian_Andersen"},"Hans Christian Andersen"),"."),r.a.createElement("p",null,"You can ",r.a.createElement("del",null,"select a person or a date (range) or")," enter an ID of a letter, if you should know one."),r.a.createElement("p",null,"You can filter the lists (person",r.a.createElement("del",null,", day, month, and year"),") by entering text/numbers into the fields."),r.a.createElement("p",null,"The content comes from ",r.a.createElement("a",{href:"https://andersen.sdu.dk/brevbase/",hrefLang:"da"},"the HCA research centre at the SDU")," and is fetched via ",r.a.createElement("a",{href:"https://andersen.sdu.dk/service/index_e.html"},"their web services"),"."),r.a.createElement("p",null,"You can return to this page and have the help texts displayed by clicking the header."),r.a.createElement("p",null,"The app is created by ",r.a.createElement("a",{href:"https://larsbojensen.eu"},"Lars Bo Jensen"),". It is based on ",r.a.createElement("a",{href:"https://reactjs.org/"},"React")," and Facebook's ",r.a.createElement("a",{href:"https://github.com/facebook/create-react-app"},"create-react-app"),". And sweat."),r.a.createElement("p",null,"Get the code at ",r.a.createElement("a",{href:"https://github.com/LarsBoJensen/hca-letters"},"https://github.com/LarsBoJensen/hca-letters"),"."))}})),r.a.createElement(b.c,null,r.a.createElement(c.a,{path:"/",children:function(t){var a=t.history;return r.a.createElement("div",{className:"id-input-wrapper selector".concat(e.state.letterIDButtonIsActive?" is-active":"")},r.a.createElement(y,{letterID:e.state.letterID,onLetterIDChange:e.handleLetterIDChange,onKeyboardEvent:e.handleKeyboardEvent,history:a}),r.a.createElement(A,{isActive:e.state.letterIDButtonIsActive,letter:e.state.letterID,history:a,onLetterIDChange:e.handleLetterIDChange}))}}),r.a.createElement(c.a,{exact:!0,path:"/",render:function(){return r.a.createElement("div",{className:"help"},r.a.createElement("h2",null,"Getting a letter by ID"),r.a.createElement("p",null,"The letter ID's have found their way into printed literature, so it is not entirely unthinkable that you might know one. Enter it here and get the letter."),r.a.createElement("p",null,"Please notice that the ID's are not an unbroken sequence of numbers. The ID's do not start at 1, and there are many 'empty slots'."))}})))),r.a.createElement(c.a,{path:"*/letter/:letterID",render:function(t){return r.a.createElement(T,{url:t,open:e.state.letterDrawerIsOpen?"open":"closed",onLetterIDChange:e.handleLetterIDChange})}}),r.a.createElement(c.a,{path:"/person/:personID/show",component:B}),r.a.createElement(f.a,null,r.a.createElement(c.a,{path:"/person/:person",render:function(t){return r.a.createElement(k,Object.assign({},t,{onLetterIDChange:e.handleLetterIDChange}))}}),r.a.createElement(c.a,{path:"/date/year/:year/month/:month/day/:day",render:function(t){return r.a.createElement(k,Object.assign({},t,{onLetterIDChange:e.handleLetterIDChange}))}}),r.a.createElement(c.a,{path:"/date/year/:year/month/:month",render:function(t){return r.a.createElement(k,Object.assign({},t,{onLetterIDChange:e.handleLetterIDChange}))}})))}}]),t}(n.Component),K=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var R="pushState"in window.history;s.a.render(r.a.createElement(o.a,{basename:"/hca-letters",forceRefresh:!R},r.a.createElement(c.a,{path:"/",component:H})),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/hca-letters",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/hca-letters","/service-worker.js");K?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):_(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):_(e)})}}()}},[[117,1,2]]]);
//# sourceMappingURL=main.22435687.chunk.js.map